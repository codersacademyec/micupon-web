function indexService(n,i){function a(n){Stamplay.User.socialLogin(i[n])}function o(i){return n.post("mocks/bandas.json",{filtro:i}).then(function(n){return n})}function e(i){return n.post("backend",{item:i}).then(function(n){return n})}function t(i){return n.post("backend",{item:i}).then(function(n){return n})}function r(i){return n.post("backend",{item:i}).then(function(n){return n})}var l={busqueda:o,modificar:e,eliminar:t,nuevo:r,login:a};return l}function indexCtrl(n,i,a,o){var e=this;e.bandas=[],e.globalService=i,e.showFiltros=!1,e.showNuevo=!1,e.filtros={},e.nuevo={},e.bandaSeleccionada={},e.modalEliminar=o({scope:n,template:'<div class="modal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Eliminar la banda horaria con id {{ctrl.bandaSeleccionada.id}}?</h4></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Cancelar</button><button type="button" class="btn btn-danger" ng-click="ctrl.confirmarElim()">Eliminar</button></div></div></div></div>',html:!0,show:!1,animation:"am-slide-top"}),e.tableConfig={itemsPerPage:5,fillLastPage:!0},e.ingresar=function(n){a.login(n)},e.ocultarSide=function(){e.showFiltros=!1,e.showNuevo=!1},e.buscar=function(){bandasService.busqueda(e.filtros).then(function(n){e.bandas=n,e.showFiltros=!1})},e.eliminar=function(n){e.bandaSeleccionada=n,e.modalEliminar.$promise.then(e.modalEliminar.show)},e.confirmarElim=function(){bandasService.eliminar(e.bandaSeleccionada).then(function(n){e.modalEliminar.$promise.then(e.modalEliminar.hide)})},e.guardar=function(){bandasService.nuevo(e.nuevo).then(function(n){e.ocultarSide()})},e.limpiarFiltros=function(){e.filtros={}},e.buscar()}angular.module("micupon").factory("indexService",["globalService","socialProvider",indexService]),angular.module("micupon").controller("indexCtrl",["$scope","globalService","bandasService","$modal",indexCtrl]);
//# sourceMappingURL=maps/index.js.map
