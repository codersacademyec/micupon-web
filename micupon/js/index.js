function indexService(i,n){function o(i){Stamplay.User.socialLogin(n[i])}function e(i){return Stamplay.Object("cupones").get(i).then(function(i){return i.data})}function a(i){Stamplay.Object("cupones").update("codigo",i).then(function(i){},function(i){})}function t(i){Stamplay.Object("cupones").remove("codigo").then(function(i){},function(i){})}function l(i){Stamplay.Object("cupones_usuarios").save({usuario:"57feba3ca3b12b294d4891c0",codigo:i}).then(function(i){addAlert()},function(i){})}var c={busqueda:e,modificar:a,eliminar:t,nuevo:l,login:o};return c}function indexCtrl(i,n,o,e){var a=this;a.globalService=n,a.cupones=[],a.showFiltros=!1,a.showNuevo=!1,a.filtros={},a.nuevo={},a.itemSeleccionado={},a.modalEliminar=e({scope:i,template:'<div class="modal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Eliminar la banda horaria con id {{ctrl.bandaSeleccionada.id}}?</h4></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Cancelar</button><button type="button" class="btn btn-danger" ng-click="ctrl.confirmarElim()">Eliminar</button></div></div></div></div>',html:!0,show:!1,animation:"am-slide-top"}),a.tableConfig={itemsPerPage:5,fillLastPage:!0},a.ingresar=function(i){o.login(i)},a.ocultarSide=function(){a.showFiltros=!1,a.showNuevo=!1},a.buscar=function(){o.busqueda(a.filtros).then(function(n){a.cupones=n,a.showFiltros=!1,i.$apply()})},a.eliminar=function(i){a.itemSeleccionado=i,a.modalEliminar.$promise.then(a.modalEliminar.show)},a.confirmarElim=function(){o.eliminar(a.itemSeleccionado).then(function(i){a.modalEliminar.$promise.then(a.modalEliminar.hide)})},a.guardar=function(i){o.nuevo(i)},a.limpiarFiltros=function(){a.filtros={}},a.buscar()}angular.module("micupon").factory("indexService",["globalService","socialProvider",indexService]),angular.module("micupon").controller("indexCtrl",["$scope","globalService","indexService","$modal",indexCtrl]);
//# sourceMappingURL=maps/index.js.map
