function indexService(n,i){function o(n){Stamplay.User.socialLogin(i[n])}function e(n){return Stamplay.Object("cupones").get(n).then(function(n){return n.data})}function t(n){Stamplay.Object("cupones").update("codigo",n).then(function(n){},function(n){})}function a(n){Stamplay.Object("cupones").remove("codigo").then(function(n){},function(n){})}function l(n){Stamplay.Object("cupones").save(n).then(function(n){addAlert()},function(n){})}var c={busqueda:e,modificar:t,eliminar:a,nuevo:l,login:o};return c}function indexCtrl(n,i,o,e){var t=this;t.globalService=i,t.cupones=[],t.showFiltros=!1,t.showNuevo=!1,t.filtros={},t.nuevo={},t.itemSeleccionado={},t.modalEliminar=e({scope:n,template:'<div class="modal"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Eliminar la banda horaria con id {{ctrl.bandaSeleccionada.id}}?</h4></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Cancelar</button><button type="button" class="btn btn-danger" ng-click="ctrl.confirmarElim()">Eliminar</button></div></div></div></div>',html:!0,show:!1,animation:"am-slide-top"}),t.tableConfig={itemsPerPage:5,fillLastPage:!0},t.ingresar=function(n){o.login(n)},t.ocultarSide=function(){t.showFiltros=!1,t.showNuevo=!1},t.buscar=function(){o.busqueda(t.filtros).then(function(i){t.cupones=i,t.showFiltros=!1,n.$apply()})},t.eliminar=function(n){t.itemSeleccionado=n,t.modalEliminar.$promise.then(t.modalEliminar.show)},t.confirmarElim=function(){o.eliminar(t.itemSeleccionado).then(function(n){t.modalEliminar.$promise.then(t.modalEliminar.hide)})},t.guardar=function(n){o.saveItem(n)},t.limpiarFiltros=function(){t.filtros={}},t.buscar()}angular.module("micupon").factory("indexService",["globalService","socialProvider",indexService]),angular.module("micupon").controller("indexCtrl",["$scope","globalService","indexService","$modal",indexCtrl]);
//# sourceMappingURL=maps/index.js.map
